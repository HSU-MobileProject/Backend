rules_version = '2';
service cloud.firestore {
    match /databases/{database}/documents {

        // users 컬렉션 규칙
        // (이전에 만든 규칙: 내 정보는 나만 만들고 수정할 수 있다)
        match /users/{userId} {
            allow read: if true;
            allow create: if request.auth.uid != null && request.auth.uid == userId;
            allow update, delete: if request.auth.uid == userId;
        }

        // '이메일 인증'을 반영한 예시 규칙
        // 'projects' 컬렉션 규칙
        match /projects/{projectId} {
            // 로그인한 사용자는 읽기/쓰기 가능
            allow read: if true; 
            allow create, update, delete: if request.auth.uid != null;
        }
    }
}